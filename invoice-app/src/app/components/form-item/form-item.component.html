<form class="w-50" (ngSubmit)="onSubmit(itemForm)" #itemForm="ngForm">
  <input
    type="text"
    name="name"
    placeholder="Produto"
    class="form-control m-3"
    [(ngModel)]="item.product"
    required
    minlength="3"
    #product="ngModel"
  />

  @if (product.invalid && (product.dirty || product.touched)) {
    @if (product.errors!['required']) {
      <div class="text-danger mx-3">Nome do produto é obrigatório.</div>
    }
    @if(product.errors!['minlength']){
      <div class="text-danger mx-3">Mínimo de 3 caracteres.</div>
    }
  }

  <input
    type="number"
    name="price"
    placeholder="R$ 0,00"
    class="form-control m-3"
    [(ngModel)]="item.price"
    required
    min="1"
    #price="ngModel"
  />

  @if (price.invalid && (price.dirty || price.touched)) {
    @if (price.errors!['required']) {
      <div class="text-danger mx-3">Preço é obrigatório.</div>
    }
    @if(price.errors!['min']){
      <div class="text-danger mx-3">Preço deve ser maior que 0.</div>
    }
  }

  <input
    type="number"
    name="quantity"
    placeholder="0"
    class="form-control m-3"
    [(ngModel)]="item.quantity"
    required
    min="1"
    #quantity="ngModel"
  />

  @if (quantity.invalid && (quantity.dirty || quantity.touched)) {
    @if (quantity.errors!['required']) {
      <div class="text-danger mx-3">Quantidade é obrigatório.</div>
    }
    @if(quantity.errors!['min']){
      <div class="text-danger mx-3">Quantidade deve ser maior que 0.</div>
    }
  }

  <button
    type="submit"
    class="btn btn-primary m-3"
    [disabled]="itemForm.invalid"
  >
    <i class="bi-plus-lg"></i> Novo item
  </button>
</form>
